= MongoDB Connector Reference
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]

Support Category: Select 

MongoDB Connector v5.3

+++
MongoDB is an open source, high-performance, schema-free, document-oriented database that manages collections of BSON documents.
+++


== Configurations
---
[[config]]
=== Config


==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
|Name | String | The name for this configuration. Connectors reference the configuration with this name. | | x
| Connection a| * <<config_connection, Connection>> 
* <<config_connection-string, Connection String>> 
 | The connection types to provide to this configuration. | | x
| Expiration Policy a| <<ExpirationPolicy>> |  +++Configures the minimum amount of time that a dynamic configuration instance can remain idle before the runtime considers it eligible for expiration. This does not mean that the platform expires the instance at the exact moment that it becomes eligible. The runtime purges the instances when it sees fit.+++ |  | 
| Enable Metadata a| Boolean |  +++collectionMetadataSamples: Stores templates to build metadata based on Document parameters union Key (String): Collection Name. List<String>: List of ObjectIDs Documents in specific collection.+++ |  +++true+++ | 
| Collection Metadata samples a| Object |  |  | 
|===

==== Connection Types
[[config_connection]]
===== Connection


====== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Servers (host:port) a| String |  +++A list of MongoDB instance, with the format `host:port`, separated by commas.  ` Example: 127.0.0.1:27017, 192.168.1.2:27017 `+++ |  +++localhost:27017+++ | 
| Connections Per Host a| Number |  +++The number of connections allowed per host (the pool size, per host)+++ |  +++100+++ | 
| Threads Allowed To Block For Connection Multiplier a| Number |  +++Multiplier for connectionsPerHost for # of threads that can block.+++ |  +++5+++ | 
| Max Wait Time a| Number |  +++The max wait time for a blocking thread for a connection from the pool in ms.+++ |  +++120000+++ | 
| Connect Timeout a| Number |  +++The connection timeout in milliseconds; this is for establishing the socket connections (open). 0 is default and infinite.+++ |  +++30000+++ | 
| Socket Timeout a| Number |  +++The socket timeout. 0 is default and infinite.+++ |  +++0+++ | 
| Username a| String |  +++The username to use for authentication.+++ |  ++++++ | 
| Password a| String |  +++The password to use for authentication. If the password is null or whitespaces only, the connector won't use authentication and username must be empty too.+++ |  | 
| Database a| String |  +++Name of the database+++ |  | x
| SSL a| Boolean |  +++This is for enabling an SSL connection. It is disabled by default.+++ |  +++false+++ | 
| Tls Context a| <<Tls>> |  |  | 
| Reconnection a| <<Reconnection>> |  +++When the application is deployed, a connectivity test is performed on all connectors. If set to true, deployment fails if the test doesn't pass after exhausting the associated reconnection strategy+++ |  | 
|===
[[config_connection-string]]
===== Connection String


====== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Connection URI a| String |  |  | x
| Reconnection a| <<Reconnection>> |  +++When the application is deployed, a connectivity test is performed on all connectors. If set to true, deployment fails if the test doesn't pass after exhausting the associated reconnection strategy+++ |  | 
|===

== Supported Operations
* <<addUser>> 
* <<countDocuments>> 
* <<createCollection>> 
* <<createFileFromPayload>> 
* <<createIndex>> 
* <<dropCollection>> 
* <<dropDatabase>> 
* <<dropIndex>> 
* <<dump>> 
* <<executeCommand>> 
* <<executeGenericCommand>> 
* <<existsCollection>> 
* <<findDocuments>> 
* <<findFiles>> 
* <<findOneAndUpdateDocument>> 
* <<findOneDocument>> 
* <<findOneFile>> 
* <<getFileContent>> 
* <<incrementalDump>> 
* <<insertDocument>> 
* <<insertDocuments>> 
* <<listCollections>> 
* <<listFiles>> 
* <<listIndices>> 
* <<mapReduceObjects>> 
* <<removeDocuments>> 
* <<removeFiles>> 
* <<restore>> 
* <<saveDocument>> 
* <<updateDocuments>> 
* <<updateDocumentsByFunction>> 
* <<updateDocumentsByFunctions>> 

==== Associated Sources
* <<deleted-object-trigger>> 
* <<modified-object-trigger>> 
* <<new-object-trigger>> 


== Operations

[[addUser]]
=== Add User
`<mongo:add-user>`

+++
Adds a new user for this db
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Username a| String |  +++Name of the user+++ |  | x
| Password a| String |  +++Password to use for authentication+++ |  | x
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[countDocuments]]
=== Count Documents
`<mongo:count-documents>`

+++
Counts the number of documents that match the given query. If no query is passed, returns the number of elements in the collection
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The target collection+++ |  | x
| Condition Query a| Binary |  +++The optional String query for counting documents. Only documents matching it will be counted. If unspecified, all documents are counted.+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Number
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[createCollection]]
=== Create Collection
`<mongo:create-collection>`

+++
Creates a new collection. If the collection already exists, a MongoException will be thrown.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The name of the collection to create+++ |  | x
| Capped a| Boolean |  +++if the collection will be capped+++ |  +++false+++ | 
| Max Objects a| Number |  +++The maximum number of documents the new collection is able to contain+++ |  | 
| Collection Size a| Number |  +++The maximum size of the new collection+++ |  | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===


=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[createFileFromPayload]]
=== Create File From Payload
`<mongo:create-file-from-payload>`

+++
Creates a new MuleGridFSFile in the database, saving the given content, filename, contentType, and extraData, and answers it.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Content a| Binary |  +++The mandatory content of the new `gridfs` file. It may be a java.io.File, a byte[] or an InputStream.+++ |  `#[payload]` | 
| Filename a| String |  +++The mandatory name of new file.+++ |  | x
| Metadata a| Binary |  +++The optional String metadata of the new content type+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Object
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[createIndex]]
=== Create Index
`<mongo:create-index>`

+++
Creates a new index
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The name of the collection where the index will be created+++ |  | x
| Field Name a| String |  +++The name of the field which is indexed+++ |  | x
| Order a| Enumeration, one of:

** ASC
** DESC |  +++The indexing order+++ |  +++ASC+++ | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===


=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[dropCollection]]
=== Drop Collection
`<mongo:drop-collection>`

+++
Deletes a collection and all the objects it contains. If the collection does not exist, does nothing.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The name of the collection to drop+++ |  | x
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===


=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[dropDatabase]]
=== Drop Database
`<mongo:drop-database>`

+++
Drop the current database
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===


=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[dropIndex]]
=== Drop Index
`<mongo:drop-index>`

+++
Drops an existing index
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The name of the collection where the index is+++ |  | x
| Index Name a| String |  +++The name of the index to drop+++ |  | x
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===


=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[dump]]
=== Dump
`<mongo:dump>`

+++
Executes a dump of the database to the specified output directory. If no output directory is provided then the default /dump directory is used.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Output Directory a| String |  +++output directory path, if no output directory is provided the default /dump directory is assumed+++ |  +++dump+++ | 
| Output Name a| String |  +++output file name, if it's not specified the database name is used+++ |  | 
| Zip a| Boolean |  +++whether to zip the created dump file or not+++ |  +++false+++ | 
| Oplog a| Boolean |  +++point in time backup (requires an oplog)+++ |  +++false+++ | 
| Threads a| Number |  +++amount of threads to execute the dump+++ |  +++5+++ | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===


=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[executeCommand]]
=== Execute Command
`<mongo:execute-command>`

+++
Executes a command on the database
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Command Name a| String |  +++The command to execute on the database+++ |  | x
| Command Value a| String |  +++The value for the command+++ |  | 
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[executeGenericCommand]]
=== Execute Generic Command
`<mongo:execute-generic-command>`

+++
Executes a generic command on the database.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Command a| Binary |  +++The generic command to execute on the database+++ |  `#[payload]` | 
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[existsCollection]]
=== Exists Collection
`<mongo:exists-collection>`

+++
Answers if a collection exists given its name
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The name of the collection+++ |  `#[payload]` | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Boolean
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[findDocuments]]
=== Find Documents
`<mongo:find-documents>`

+++
Finds all documents that match a given query. If no query is specified, all documents of the collection are retrieved. If no fields object is specified, all fields are retrieved.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The target collection+++ |  | x
| Condition Query a| Binary |  +++The optional String query document. If unspecified, all documents are returned.+++ |  `#[payload]` | 
| Fields a| Array of String |  +++alternative way of passing fields as a literal List+++ |  | 
| Num To Skip a| Number |  +++number of documents skip (offset)+++ |  | 
| Result Limit a| Number |  +++limit of documents to return+++ |  | 
| Sort By a| Binary |  +++indicates the String used to sort the results+++ |  | 
| Return Id a| Boolean |  +++boolean that indicates if a Id is return in the response+++ |  +++true+++ | 
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[findFiles]]
=== Find Files
`<mongo:find-files>`

+++
Lists all the files that match the given query
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Find Query a| Binary |  +++A String query+++ |  | x
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Array of Object
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[findOneAndUpdateDocument]]
=== Find One And Update Document
`<mongo:find-one-and-update-document>`

+++
Finds and update the first document that matches a given query. When returnNew = true, returns the updated document instead of the original document.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The target collection+++ |  | x
| Find Query a| Binary |  +++The String query that the returned object matches.+++ |  | 
| Content To Update a| Binary |  +++The String mandatory object that will replace that one which matches the query+++ |  | x
| Fields a| Array of String |  +++alternative way of passing fields as a literal List+++ |  | 
| Return New Document a| Boolean |  +++Flag to specify if the returning org.bson.Document should be the updated document instead of the original. Defaults to false, returning the document before modifications+++ |  +++false+++ | 
| Sort By a| Binary |  +++indicates the String used to sort the results.+++ |  | 
| Remove a| Boolean |  +++removes the specified in the query field. Defaults to false+++ |  +++false+++ | 
| Upsert a| Boolean |  +++whether the database should create the element if it does not exist+++ |  +++false+++ | 
| Bypass Document Validation a| Boolean |  +++lets you update documents that do not meet the validation requirements. Defaults to false+++ |  +++false+++ | 
| Return Id a| Boolean |  +++boolean that indicates if a Id is return in the response+++ |  +++false+++ | 
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[findOneDocument]]
=== Find One Document
`<mongo:find-one-document>`

+++
Finds the first document that matches a given query. Throws a MongoException if no one matches the given query
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The target collection+++ |  | x
| Find Query a| Binary |  +++The mandatory String query document that the returned object matches.+++ |  `#[payload]` | 
| Fields a| Array of String |  +++alternative way of passing fields as a literal List+++ |  | 
| Fail On Not Found a| Boolean |  +++Flag to specify if an exception will be thrown when no object is found. For backward compatibility the default value is true.+++ |  +++true+++ | 
| Return Id a| Boolean |  +++boolean that indicates if a Id is return in the response+++ |  +++true+++ | 
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[findOneFile]]
=== Find One File
`<mongo:find-one-file>`

+++
Answers the first file that matches the given query. If no object matches it, a MongoException is thrown.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Find Query a| Binary |  +++The String mandatory query+++ |  | x
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Object
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[getFileContent]]
=== Get File Content
`<mongo:get-file-content>`

+++
Answers an inputstream to the contents of the first file that matches the given query. If no object matches it, a MongoException is thrown.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| File Id a| <<MuleBsonObjectId>> |  +++The MuleBsonObjectId of the file to be deleted+++ |  `#[payload]` | 
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[incrementalDump]]
=== Incremental Dump
`<mongo:incremental-dump>`

+++
Executes an incremental dump of the database
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Output Directory a| String |  +++output directory path, if no output directory is provided the default /dump directory is assumed+++ |  +++dump+++ | 
| Incremental Timestamp File a| String |  +++file that keeps track of the last timestamp processed, if no file is provided one is created on the output directory+++ |  | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===


=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[insertDocument]]
=== Insert Document
`<mongo:insert-document>`

+++
Inserts a document in a collection, setting its id if necessary.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The name of the collection where to insert the given document.+++ |  | x
| Document a| Binary |  +++A String instance.+++ |  `#[payload]` | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |String
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[insertDocuments]]
=== Insert Documents
`<mongo:insert-documents>`

+++
Inserts a list of documents in a collection, setting its id if necessary.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The name of the collection where to insert the given document.+++ |  | x
| Documents a| Binary |  +++A java.util.List of String.+++ |  `#[payload]` | 
| Write Ordered a| Boolean |  +++indicates if the list of write operations is ordered or unordered. By default, ff an error occurs during the processing of one of the write operations, MongoDB will return without processing any remaining write operations in the list. return new BsonDocumentWrapper(this, codecRegistry.get(Document.class));+++ |  +++true+++ | 
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[listCollections]]
=== List Collections
`<mongo:list-collections>`

+++
Lists names of collections available at this database
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[listFiles]]
=== List Files
`<mongo:list-files>`

+++
Lists all the files that match the given query, sorting them by filename. If no query is specified, all files are listed.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Find Query a| Binary |  +++The String optional query+++ |  | x
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Array of Object
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[listIndices]]
=== List Indices
`<mongo:list-indices>`

+++
List existent indices in a collection
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The name of the collection+++ |  | x
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[mapReduceObjects]]
=== Map Reduce Objects
`<mongo:map-reduce-objects>`

+++
Transforms a collection into a collection of aggregated groups, by applying a supplied element-mapping function to each element, that transforms each one into a key-value pair, grouping the resulting pairs by key, and finally reducing values in each group applying a suppling 'reduce' function. Each supplied function is coded in JavaScript. Note that the correct way of writing those functions may not be obvious; please consult MongoDB documentation for writing them.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The name of the collection to map and reduce+++ |  | x
| Mapping Function a| String |  +++A JavaScript encoded mapping function+++ |  | x
| Reduce Function a| String |  +++A JavaScript encoded reducing function+++ |  | x
| Output Collection a| String |  +++The name of the output collection to write the results, replacing previous collection if existed, mandatory when results may be larger than 16MB. If outputCollection is unspecified, the computation is performed in-memory and not persisted.+++ |  | 
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[removeDocuments]]
=== Remove Documents
`<mongo:remove-documents>`

+++
Removes all the documents that match the a given optional query. If query is not specified, all documents are removed. However, please notice that this is normally less performant that dropping the collection and creating it and its indices again
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The collection whose elements will be removed+++ |  | x
| Find Query a| Binary |  +++The optional String query object. Documents that match it will be removed.+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===


=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[removeFiles]]
=== Remove Files
`<mongo:remove-files>`

+++
Removes the file that matches the given file id. If no file id is specified, all files are removed
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| File Id a| <<MuleBsonObjectId>> |  +++The MuleBsonObjectId of the file to be deleted+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===


=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[restore]]
=== Restore
`<mongo:restore>`

+++
Takes the output from the dump and restores it. Indexes will be created on a restore. It only does inserts with the data to restore, if existing data is there, it will not be replaced.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Input Path a| String |  +++input path to the dump files, it can be a directory, a zip file or just a bson file+++ |  +++dump+++ | 
| Drop Collection a| Boolean |  +++whether to drop existing collections before restore+++ |  +++false+++ | 
| Oplog Replay a| Boolean |  +++replay oplog for point-in-time restore+++ |  +++false+++ | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===


=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[saveDocument]]
=== Save Document
`<mongo:save-document>`

+++
Inserts or updates a document based on its object _id.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The collection where to insert the object+++ |  | x
| Document a| Binary |  +++The mandatory String document to insert.+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===


=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[updateDocuments]]
=== Update Documents
`<mongo:update-documents>`

+++
Updates documents that matches the given query. If query is not specified, all documents are retrieved. If parameter multi is set to false, only the first document matching it will be updated. Otherwise, all the documents matching it will be updated.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The name of the collection to update+++ |  | x
| Find Query a| Binary |  +++The String query object used to detect the element to update.+++ |  | 
| Content To Update a| Binary |  +++The String mandatory object that will replace that one which matches the query.+++ |  | x
| Multiple Update a| Boolean |  +++if all or just the first document matching the query will be updated+++ |  +++true+++ | 
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[updateDocumentsByFunction]]
=== Update Documents By Function
`<mongo:update-documents-by-function>`

+++
Update documents using a mongo function. If query is not specified, all documents are retrieved.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The name of the collection to update+++ |  | x
| Function a| String |  +++The function used to execute the update+++ |  | x
| Find Query a| Binary |  +++The String query document used to detect the element to update.+++ |  | 
| Content To Update a| Binary |  +++The String mandatory document that will replace that one which matches the query.+++ |  | x
| Upsert a| Boolean |  +++if the database should create the element if it does not exist.+++ |  +++false+++ | 
| Multiple Update a| Boolean |  +++if all or just the first document matching the query will be updated.+++ |  +++true+++ | 
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


[[updateDocumentsByFunctions]]
=== Update Documents By Functions
`<mongo:update-documents-by-functions>`

+++
Update documents using one or more mongo function(s). If query is not specified, all documents are retrieved. If there are duplicated operators. Only the last one will be executed.
+++

==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The name of the collection to update+++ |  | x
| Find Query a| Binary |  +++The String query document used to detect the element to update+++ |  | 
| Functions a| Binary |  +++The String of functions used to execute the update. e.g. &lt;$set,{"key":123}&gt;+++ |  | x
| Upsert a| Boolean |  +++whether the database should create the element if it does not exist+++ |  +++false+++ | 
| Multiple Update a| Boolean |  +++if all or just the first document matching the query will be updated+++ |  +++true+++ | 
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Target Variable a| String |  +++The name of a variable to store the operation's output.+++ |  | 
| Target Value a| String |  +++An expression to evaluate against the operation's output and store the expression outcome in the target variable+++ |  `#[payload]` | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 

==== Throws
* MONGO:RETRY_EXHAUSTED 
* MONGO:TIMEOUT 
* MONGO:WAIT_QUEUE_FULL 
* MONGO:COMMAND_ERROR 
* MONGO:SOCKET 
* MONGO:SOCKET_WRITE_ERROR 
* MONGO:SOCKET_READ_TIMEOUT 
* MONGO:INTERRUPTED 
* MONGO:NOT_PRIMARY 
* MONGO:WRITE 
* MONGO:UNKNOWN 
* MONGO:SOCKET_CLOSED 
* MONGO:CURSOR_NOT_FOUND 
* MONGO:ILLEGAL_ARGUMENT 
* MONGO:INVALID_CREDENTIALS 
* MONGO:CLIENT_EXCEPTION 
* MONGO:WRITE_CONCERN 
* MONGO:IO_EXCEPTION 
* MONGO:SOCKET_OPEN 
* MONGO:SOCKET_READ_ERROR 
* MONGO:MONGO_GRID_FS 
* MONGO:QUERY_ERROR 
* MONGO:CONNECTIVITY 
* MONGO:EXECUTION_TIMEOUT 
* MONGO:SECURITY 
* MONGO:MAPPING_EXCEPTION 
* MONGO:NODE_IS_RECOVERING 
* MONGO:INTERNAL_EXCEPTION 
* MONGO:SERVER_ERROR 
* MONGO:DUPLICATE_KEY 
* MONGO:BULK_WRITE 
* MONGO:INCOMPATIBLE_DRIVER 
* MONGO:MongoExecution 


== Sources

[[deleted-object-trigger]]
=== Deleted Object
`<mongo:deleted-object-trigger>`


==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The collection that will be watched to detect the matching documents.+++ |  | x
| Field Name a| String |  +++The field that will queried to detect the objects that match the trigger condition. For New Objects trigger, it it is empty the `_id` field will be used.+++ |  | 
| Since a| String |  +++Please specify an initial value from where to start querying objects. If this field is empty, this operation will retrieve the selected objects from the time the Mule app is started. For most objects types, the Object#toString() representation is sufficient. For Date objects please use Date#getTime()+++ |  | 
| Primary Node Only a| Boolean |  +++Whether this source should only be executed on the primary node when running in Cluster+++ |  | 
| Scheduling Strategy a| scheduling-strategy |  +++Configures the scheduler that triggers the polling+++ |  | x
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Redelivery Policy a| <<RedeliveryPolicy>> |  +++Defines a policy for processing the redelivery of the same message+++ |  | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 



[[modified-object-trigger]]
=== Modified Object
`<mongo:modified-object-trigger>`


==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The collection that will be watched to detect the matching documents.+++ |  | x
| Field Name a| String |  +++The field that will queried to detect the objects that match the trigger condition. For New Objects trigger, it it is empty the `_id` field will be used.+++ |  | 
| Since a| String |  +++Please specify an initial value from where to start querying objects. If this field is empty, this operation will retrieve the selected objects from the time the Mule app is started. For most objects types, the Object#toString() representation is sufficient. For Date objects please use Date#getTime()+++ |  | 
| Primary Node Only a| Boolean |  +++Whether this source should only be executed on the primary node when running in Cluster+++ |  | 
| Scheduling Strategy a| scheduling-strategy |  +++Configures the scheduler that triggers the polling+++ |  | x
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Redelivery Policy a| <<RedeliveryPolicy>> |  +++Defines a policy for processing the redelivery of the same message+++ |  | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 



[[new-object-trigger]]
=== New Object
`<mongo:new-object-trigger>`


==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Collection Name a| String |  +++The collection that will be watched to detect the matching documents.+++ |  | x
| Field Name a| String |  +++The field that will queried to detect the objects that match the trigger condition. For New Objects trigger, it it is empty the `_id` field will be used.+++ |  | 
| Since a| String |  +++Please specify an initial value from where to start querying objects. If this field is empty, this operation will retrieve the selected objects from the time the Mule app is started. For most objects types, the Object#toString() representation is sufficient. For Date objects please use Date#getTime()+++ |  | 
| Primary Node Only a| Boolean |  +++Whether this source should only be executed on the primary node when running in Cluster+++ |  | 
| Scheduling Strategy a| scheduling-strategy |  +++Configures the scheduler that triggers the polling+++ |  | x
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure to use repeatable streams.+++ |  | 
| Redelivery Policy a| <<RedeliveryPolicy>> |  +++Defines a policy for processing the redelivery of the same message+++ |  | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors.+++ |  | 
|===

==== Output
[%autowidth.spread]
|===
|Type |Binary
|===

=== For Configurations
* <<config>> 



== Types
[[Tls]]
=== Tls

[%header%autowidth.spread]
|===
| Field | Type | Description | Default Value | Required
| Enabled Protocols a| String | A comma separated list of protocols enabled for this context. |  | 
| Enabled Cipher Suites a| String | A comma separated list of cipher suites enabled for this context. |  | 
| Trust Store a| <<TrustStore>> |  |  | 
| Key Store a| <<KeyStore>> |  |  | 
| Revocation Check a| * <<standard-revocation-check>>
* <<custom-ocsp-responder>>
* <<crl-file>> |  |  | 
|===

[[TrustStore]]
=== Trust Store

[%header%autowidth.spread]
|===
| Field | Type | Description | Default Value | Required
| Path a| String | The location (which will be resolved relative to the current classpath and file system, if possible) of the trust store. |  | 
| Password a| String | The password used to protect the trust store. |  | 
| Type a| String | The type of store used. |  | 
| Algorithm a| String | The algorithm used by the trust store. |  | 
| Insecure a| Boolean | If true, no certificate validations will be performed, rendering connections vulnerable to attacks. Use at your own risk. |  | 
|===

[[KeyStore]]
=== Key Store

[%header%autowidth.spread]
|===
| Field | Type | Description | Default Value | Required
| Path a| String | The location (which will be resolved relative to the current classpath and file system, if possible) of the key store. |  | 
| Type a| String | The type of store used. |  | 
| Alias a| String | When the key store contains many private keys, this attribute indicates the alias of the key that should be used. If not defined, the first key in the file will be used by default. |  | 
| Key Password a| String | The password used to protect the private key. |  | 
| Password a| String | The password used to protect the key store. |  | 
| Algorithm a| String | The algorithm used by the key store. |  | 
|===

[[standard-revocation-check]]
=== Standard Revocation Check

[%header%autowidth.spread]
|===
| Field | Type | Description | Default Value | Required
| Only End Entities a| Boolean | Only verify the last element of the certificate chain. |  | 
| Prefer Crls a| Boolean | Try CRL instead of OCSP first. |  | 
| No Fallback a| Boolean | Do not use the secondary checking method (the one not selected before). |  | 
| Soft Fail a| Boolean | Avoid verification failure when the revocation server can not be reached or is busy. |  | 
|===

[[custom-ocsp-responder]]
=== Custom Ocsp Responder

[%header%autowidth.spread]
|===
| Field | Type | Description | Default Value | Required
| Url a| String | The URL of the OCSP responder. |  | 
| Cert Alias a| String | Alias of the signing certificate for the OCSP response (must be in the trust store), if present. |  | 
|===

[[crl-file]]
=== Crl File

[%header%autowidth.spread]
|===
| Field | Type | Description | Default Value | Required
| Path a| String | The path to the CRL file. |  | 
|===

[[Reconnection]]
=== Reconnection

[%header%autowidth.spread]
|===
| Field | Type | Description | Default Value | Required
| Fails Deployment a| Boolean | When the application is deployed, a connectivity test is performed on all connectors. If set to true, deployment fails if the test doesn't pass after exhausting the associated reconnection strategy. |  | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> | The reconnection strategy to use. |  | 
|===

[[reconnect]]
=== Reconnect

[%header%autowidth.spread]
|===
| Field | Type | Description | Default Value | Required
| Frequency a| Number | How often in milliseconds to reconnect |  | 
| Count a| Number | How many reconnection attempts to make. |  | 
|===

[[reconnect-forever]]
=== Reconnect Forever

[%header%autowidth.spread]
|===
| Field | Type | Description | Default Value | Required
| Frequency a| Number | How often in milliseconds to reconnect |  | 
|===

[[ExpirationPolicy]]
=== Expiration Policy

[%header%autowidth.spread]
|===
| Field | Type | Description | Default Value | Required
| Max Idle Time a| Number | A scalar time value for the maximum amount of time a dynamic configuration instance should be allowed to be idle before it's considered eligible for expiration |  | 
| Time Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | A time unit that qualifies the maxIdleTime attribute |  | 
|===

[[repeatable-in-memory-stream]]
=== Repeatable In Memory Stream

[%header%autowidth.spread]
|===
| Field | Type | Description | Default Value | Required
| Initial Buffer Size a| Number | The amount of memory that will be allocated to consume the stream and provide random access to it. If the stream contains more data than can be fit into this buffer, then the buffer expands according to the bufferSizeIncrement attribute, with an upper limit of maxInMemorySize. |  | 
| Buffer Size Increment a| Number | This is by how much will be buffer size by expanded if it exceeds its initial size. Setting a value of zero or lower means that the buffer should not expand, meaning that a STREAM_MAXIMUM_SIZE_EXCEEDED error is raised when the buffer gets full. |  | 
| Max Buffer Size a| Number | The maximum amount of memory to use. If more than that is used then a STREAM_MAXIMUM_SIZE_EXCEEDED error is raised. A value lower than or equal to zero means no limit. |  | 
| Buffer Unit a| Enumeration, one of:

** BYTE
** KB
** MB
** GB | The unit in which all these attributes are expressed |  | 
|===

[[repeatable-file-store-stream]]
=== Repeatable File Store Stream

[%header%autowidth.spread]
|===
| Field | Type | Description | Default Value | Required
| Max In Memory Size a| Number | Defines the maximum memory that the stream should use to keep data in memory. If more than that is consumed then it will start to buffer the content on disk. |  | 
| Buffer Unit a| Enumeration, one of:

** BYTE
** KB
** MB
** GB | The unit in which maxInMemorySize is expressed |  | 
|===

[[RedeliveryPolicy]]
=== Redelivery Policy

[%header%autowidth.spread]
|===
| Field | Type | Description | Default Value | Required
| Max Redelivery Count a| Number | The maximum number of times a message can be redelivered and processed unsuccessfully before triggering process-failed-message |  | 
| Use Secure Hash a| Boolean | Whether to use a secure hash algorithm to identify a redelivered message. |  | 
| Message Digest Algorithm a| String | The secure hashing algorithm to use. If not set, the default is SHA-256. |  | 
| Id Expression a| String | Defines one or more expressions to use to determine when a message has been redelivered. This property may only be set if useSecureHash is false. |  | 
| Object Store a| Object Store | The object store where the redelivery counter for each message is going to be stored. |  | 
|===

[[MuleBsonObjectId]]
=== Mule Bson Object Id

[%header%autowidth.spread]
|===
| Field | Type | Description | Default Value | Required
| Value a| <<MongoIdObject>> |  |  | 
|===

[[MongoIdObject]]
=== Mongo Id Object

[%header%autowidth.spread]
|===
| Field | Type | Description | Default Value | Required
| Counter a| Number |  |  | 
| Date a| String |  |  | 
| Machine Identifier a| Number |  |  | 
| Process Identifier a| Number |  |  | 
| Time a| Number |  |  | 
| Time Second a| Number |  |  | 
| Timestamp a| Number |  |  | 
|===

